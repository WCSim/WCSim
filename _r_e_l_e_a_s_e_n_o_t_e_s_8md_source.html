<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WCSim: RELEASENOTES.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WCSim
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RELEASENOTES.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_r_e_l_e_a_s_e_n_o_t_e_s_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;This file contains the release notes for each version of WCSim. Release notes can also be found at https://github.com/WCSim/WCSim/tags.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;*************************************************************</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Recent updates</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;*************************************************************</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;Bug fix</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;* Pull request #432 @tdealtry: Use the same default dark rate time option for all PMT types in WCSim.mac</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;*************************************************************</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;18/04/2024: Notes for v1.12.12</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;*************************************************************</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;Minor release after #431, after the IWCD geometry change</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;Update</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;* Pull request #431 @kmtsui: Update to IWCD geometry to newly proposed size. 3 proposed options for PMT layout are available (A, B, C), with B being the nominal. The old IWCD geometry is also retained</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;Bug fix</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;* Pull request #430 @kmtsui: Use G4MultiUnion &amp; G4Voxeliser from Geant4.10.7.2 instead of Geant4.10.5.1, to pickup some bug fixes related to geometry overlaps</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;*************************************************************</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;04/04/2024: Notes for v1.12.11</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;*************************************************************</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;Minor release after #424, after the WCTE geometry output changed</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;Update</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;* Pull request #424 @kmtsui: Allow light to propagate into PMT region that is behind the blacksheet radius. Activated for WCTE geometry only</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;Bug fix</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;* Pull request #428 @kmtsui: Fix output file saving of photon history (accessible with build option) which broke with #427</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;Documentation</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;* Pull request #423 @tdealtry: Document output file class data members</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;*************************************************************</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;27/03/2024: Notes for v1.12.10</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;*************************************************************</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;Minor release after #427, removing the superfluous copies of true track information in the output file</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;Also picking up mac file fixes in WCSim/Validation - so the HK FD CI checks will be really from the HK FD geometry (has been SK since v1.12.8)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;New features</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;* Pull request #387 @DiegoCostas97: Add (optional) AmBe source geometry</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;* Pull request #387 @DiegoCostas97: New AmBe primary generator, simulating gamma + photon</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;* Pull request #387 @DiegoCostas97: Addition of creator process to WCSimRootTrack &amp; WCSimRootCherenkovHitTime</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;* Pull request #427 @tdealtry: `sample_readfile.C` has option to select which PMT branch to analyse</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;Update</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;* Pull request #421 @tdealtry: Remove the old build &amp; physics test CI action (calling bash scripts) in favour of the new python version</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;* Pull request #426 @tdealtry: Turn off creation of the (unfilled) flat tree output file by default</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;* Pull request #427 @tdealtry: Only store true track information in the 0th trigger of the first PMT type (previously was saved across multiple triggers, and copied into every active PMT branch)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;*************************************************************</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;05/03/2024: Notes for v1.12.9</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;*************************************************************</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;Minor release after updates to mPMT aluminium photon propagation &amp; WCTE PMT rotations</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;Update</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;* Pull request #419 #420 @tdealtry: Add new HK FD geometry size to MakeKin.py</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;* Pull request #416 #418 @nickwp: Update the rotations of WCTE PMTs</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;Bug fix</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;* Pull request #413 @arturof: Fix the units of the input when using a RooTracker file</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;* Pull request #417 @kmtsui: Fix PMT copy numbers being duplicated in some circumstances (using non-replic geomtries without a PMT position table)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;* Pull request #418 @kmtsui @nickwp: Set small absorption length for Cherenkov photons in aluminium, to prevent Cherenkov photons being killed due to no refractive index being defined. Not defining the refractive index, as this is complex in reality &amp; non-trivial to implement this in Geant without photons travelling faster than `c`, causing the event to be aborted</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;Documentation</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;* Pull request #411 @tdealtry: Add extra clarification about geometry options</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;* Pull request #412 @tdealtry: Fix description of how to control dark noise options for &quot;second ID PMT type&quot; (mPMTs in FD geometry)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;*************************************************************</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;02/02/2024: Notes for v1.12.8</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;*************************************************************</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;Minor release after updates to WCTE geometry</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;New feature</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;* Pull request #408 @kmtsui: Add option to include calibration deployment system (CDS) in WCTE geometry</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;Bug fix</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;* Pull request #409 @kmtsui: Add missing class to the old makefile build</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;* Pull request #408 @kmtsui: Fix overlaps in WCTE geometry</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;*************************************************************</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;31/01/2024: Notes for v1.12.7</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;*************************************************************</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;Minor release after updates to WCTE geometry</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;New feature</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;* Pull request #401 @nickwp: Allow multiple runs of WCSim to be performed in a single WCSim job</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;Update</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;* Pull request #405 @nickwp: Update WCTE geometry (tank height, diameter, PMT positions)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;Bug fix</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;* Pull request #402 @kmtsui: Make /WCSim/PMT/ReplicaPlacement=true work correctly when also using /WCSim/PMT/PositionFile</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;* Pull request #403 @kmtsui @gondiaz: Initalise `odEdited` to `false` to prevent undefined behaviour</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;*************************************************************</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;11/01/2024: Notes for v1.12.6</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;*************************************************************</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;Minor release to provide tag for tuning new HK FD geometries</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;New features</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;* Pull request #399 @patrickstowell: Addition of realistic HK FD geometry (both w/ &amp; w/o OD PMTs)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;* Pull request #397 @kmtsui: `-DWCSIM_SAVE_PHOTON_HISTORY_FLAG=ON` runs in mode with new output information about photon history (scatters, reflections)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;Bug fix</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;* Pull request #398 @arturof: Fixes to make cosmic muon generator work correctly (off by 1 histogram binning errors, crashes due to simulating outside of world volume, incomplete detector coverage of muon trajectories)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;*************************************************************</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;07/12/2023: Notes for v1.12.5</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;*************************************************************</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;Minor release to update the reference validation plots after #396</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;Bug fix</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;* Pull request #396 @kmtsui: Fix PMT overlap in IWCD geom</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;*************************************************************</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;29/11/2023: Notes for v1.12.4</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;*************************************************************</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;Minor release to update the reference validation plots after #394</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;Update</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;* Pull request #394 @kmtsui: Update default IWCD ID diameter from 7.0 to 6.6 m</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;* Pull request #393 @kmtsui: Allow `WCSimOpticalPhysics` options to be controlled in `jobOptions.mac`</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;Bug fix</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;* Pull request #395 @gondiaz: Install `*.hpp` files</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;* Pull request #392 @nickwp: Parent of the saved track now correctly saved in the true Cherenkov hit (previously erroneously ID of the photon track)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;*************************************************************</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;15/11/2023: Notes for v1.12.3</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;*************************************************************</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;Minor release to update the reference validation plots after #390</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;New features</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;* Pull request [WCSim/WCSim#384 @kmtsui](https://github.com/WCSim/WCSim/pull/384): Addition of mPMT LED primary generator. Note these are for LEDs in standard mPMT modules (not mPMT-LEDs)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;* Pull request [WCSim/WCSim#383 @JackFannon](https://github.com/WCSim/WCSim/pull/383): Addition of IBD (inverse beta decay) primary generator for DSNB (diffuse supernova neutrino background) studies</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;Update</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;* Pull request [WCSim/WCSim#385 @kmtsui](https://github.com/WCSim/WCSim/pull/385): Updates to PMT placement file. e.g. can now say if it is for 20&quot;/mPMT in hybrid configuration, apply offsets from nominal, etc.</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;* Pull request [WCSim/WCSim#389 @JackFannon](https://github.com/WCSim/WCSim/pull/389): IBD primary generator action: cross section &amp; selection algorithm updated for accuracy and efficiency</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;* Pull request [WCSim/WCSim#390 @nickwp](https://github.com/WCSim/WCSim/pull/390): Determination of which true tracks to be saved has been overhauled &amp; simplified. Highlights include option to guarentee that the track (and ancestors of the track) that created a hit are saved</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;Bug fix</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;* Pull request [WCSim/WCSim#389 @JackFannon](https://github.com/WCSim/WCSim/pull/389): Vertices now generated across entire z span of detector (rather than half height)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;*************************************************************</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;13/10/2023: Notes for v1.12.2</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;*************************************************************</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;Minor release to update the reference validation plots after #380 &amp; #382</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;New features</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;* Pull request [WCSim/WCSim#380 @ekneale](https://github.com/WCSim/WCSim/pull/380): Addition of light injector source primary generator - OD devices are currently implmented</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;* Pull request [WCSim/WCSim#379 @JackFannon](https://github.com/WCSim/WCSim/pull/379): Addition of datatable primary generator - a more compact text-based format</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;Update</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;* Pull request [WCSim/WCSim#374 @gondiaz](https://github.com/WCSim/WCSim/pull/374): Restructure the CMake files such that the `WCSIM_CHECK_GEOMETRY_OVERLAPS` option is available for WCSim-dependent tools</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;* Pull request [WCSim/WCSim#374 @gondiaz](https://github.com/WCSim/WCSim/pull/374): Only read in the cosmics data file if using the cosmics primary generator</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;Bug fixes</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;* Pull request [WCSim/WCSim#382 @tdealtry](https://github.com/WCSim/WCSim/pull/382): Correctly set the default RelativeHitTime to `false` (when `true`, offsets the time of each hit by the time of the first hit in the list (may not be time of the earliest hit). Useful for radioactivity studies, where there are long times before a decay occurs)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;* Pull request [WCSim/WCSim#380 @ekneale](https://github.com/WCSim/WCSim/pull/380): Set RelativeHitTime for OD PMTs using the .mac file option (in the same way as for ID 20&quot; &amp; mPMTs)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;* Pull request [WCSim/WCSim#379 @JackFannon](https://github.com/WCSim/WCSim/pull/379): Fix `WCSimPrimaryGeneratorAction::SetTimeUnit()` bug</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;*************************************************************</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;19/09/2023: Notes for v1.12.1</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;*************************************************************</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;Minor release to update the reference validation plots after #375</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;Updates</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;* Pull request [WCSim/WCSim#375 @kmtsui](https://github.com/WCSim/WCSim/pull/375): Improved WCTE mPMT geometry. Causes some minor changes to physics output for other mPMT geometries, due to a 0.0 to -0.0 precision issue</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;* Pull request [WCSim/WCSim#376 @tdealtry](https://github.com/WCSim/WCSim/pull/376): Don&#39;t fall back to automated geometry building when using invalid PMT position file</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;Bug fixes</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;* Pull request [WCSim/WCSim#371 @guiguem](https://github.com/WCSim/WCSim/pull/371): Resolve cmake linkage issue</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;*************************************************************</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;21/08/2023: Notes for v1.12.0</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;*************************************************************</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;Main change is to reactivate the new WCTE geometry</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;New features</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;* Pull Request [WCSim/WCSim#370 @kmtsui](https://github.com/WCSim/WCSim/pull/370): Save extra information (position, time, kinetic energy) as trajectories pass the blacksheet/tyvek/cave wall</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;* Pull Request [WCSim/WCSim#353 @kmtsui](https://github.com/WCSim/WCSim/pull/353): Add new as-built WCTE geometry</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;* Pull Request [WCSim/WCSim#353 @kmtsui](https://github.com/WCSim/WCSim/pull/353): Add gamma conversion generator (simulates e+/e- pair with correct kinematics at the position you specify)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;* Pull Request [WCSim/WCSim#353 @kmtsui](https://github.com/WCSim/WCSim/pull/353): Add new optional photocathode models that improve the description of photons interacting with the photocathode glass</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;* Pull Request [WCSim/WCSim#353 @kmtsui](https://github.com/WCSim/WCSim/pull/353): Add ability to specify PMT placement via a file of PMT positions/orientations, rather than using the usual WCSim automated placement</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;* Pull Request [WCSim/WCSim#353 @kmtsui](https://github.com/WCSim/WCSim/pull/353): Add ability to fluctuate PMT placement based on a Gaussian</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;* Pull Request [WCSim/WCSim#353 @kmtsui](https://github.com/WCSim/WCSim/pull/353): Add ability to rotate the cap PMT placement by half a barrel column, in order to be able to replicate the real WCTE geometry</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;Updates</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;* Pull Request [WCSim/WCSim#359 @P3tru](https://github.com/WCSim/WCSim/pull/359): Remove dependence on `ext/functional` header. Should allow easier compilation on macOS</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;* Pull Request [WCSim/WCSim#359 @P3tru](https://github.com/WCSim/WCSim/pull/359): Template `ComparisonPassed()` functions</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;*************************************************************</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;03/08/2023: Notes for v1.11.1</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;*************************************************************</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;Main change is to add the updated IWCD geometry, including an IWCD w/ OD for the first time</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;Note that the WCTE has been disabled in this code, for now. Please use WCTE/WCSim for the most up-to-date WCTE work</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;New features</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;* Pull Request [WCSim/WCSim#355 @kmtsui](https://github.com/WCSim/WCSim/pull/355): New IWCD detector geometries (`IWCD_mPMT`, `IWCD_mPMT_WithOD`)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;Updates</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;* Pull Request [WCSim/WCSim#361 @tdealtry](https://github.com/WCSim/WCSim/pull/361): Suppress the compiler warnings we have. Two are benign, warning of the expected behaviour. One is useless and pervasive, hiding real warnings</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;* Pull Request [WCSim/WCSim#355 @kmtsui](https://github.com/WCSim/WCSim/pull/355): Improvements in NDigits trigger running time</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;* Pull Request [WCSim/WCSim#352 @tdealtry](https://github.com/WCSim/WCSim/pull/352): Disable the WCTE geometry in this version of the code</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;* Pull Request [WCSim/WCSim#332 @federiconova](https://github.com/WCSim/WCSim/pull/332): Add some info about the PMTQEMethod recommended for the OD to the `.mac` file</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;* Pull Request [WCSim/WCSim#221 @tdealtry](https://github.com/WCSim/WCSim/pull/221): Add some info about the NDigits trigger window to the `.mac` file</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;Bug fixes</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;* Pull Request [WCSim/WCSim#355 @kmtsui](https://github.com/WCSim/WCSim/pull/355): Add `G4LogicalSkinSurface` for blacksheet, to prevent photon tracks getting stuck</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;* Pull Request [WCSim/WCSim#271 @marc1uk](https://github.com/WCSim/WCSim/pull/271): Ensure `SaveFailuresPreWindow` and `NDigitsPreWindow` options are read in correctly</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;* Pull Request [WCSim/WCSim#157 @JostMigenda](https://github.com/WCSim/WCSim/pull/157): Register model factories correctly</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;*************************************************************</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;02/06/2023: Notes for v1.11.0</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;*************************************************************</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;This is the first full merge between WCSim/WCSim:develop and nuPRISM/WCSim:nuPRISM/develop for ~7 years.  </div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;There are therefore many changes, and it is inevitable that some will not be fully recognised in this list.  </div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;I have not looked at all at PRs before 2019.  </div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;For that I am sorry</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;The main feature of this release is the addition of mPMTs (multiple 3&quot; PMTs in a 20&quot;-PMT-like vessel),</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; and the creation of associated geometries for IWCD and the HK FD.</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;Note that with this release, the recommended version of Geant4 is now 10.3.3</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;Default output `.root` file changes</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;* `fTriggerInfo` in `WCSimRootTrigger` is now a `std::vector&lt;Double_t&gt;` (previously was a `std::vector&lt;Float_t&gt;`)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;* Addition of `fParentId` to `WCSimRootTrack`</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;* Addition of `fmPMTID` and `fmPMT_PMTID` to all of `WCSimRootCherenkovHit`, `WCSimRootCherenkovDigiHit`, and `WCSimRootPMT`</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;* Addition of `fPhotonStartTime`, `fPhotonStartPos[3]`, `fPhotonEndPos[3]`, `fPhotonStartDir[3]`, and fPhotonEndDir[3]` to `WCSimRootCherenkovHitTime`</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;* Addition of `TClonesArray` of `WCSimRootCapture` (a new class) to `WCSimRootEvent`</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  * `WCSimRootCaptureGamma` is another new class stored within `WCSimRootCapture`</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;* Addition of two new `TClonesArray` of `WCSimRootPMT` in `WCSimRootGeom`</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  1. `fPMTArray2` stores the second ID PMT type information (i.e. mPMT information in HK hybrid FD geometries)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  2. `fODPMTArray` stores the OD PMT information (this used to be stored at the end of `fPMTArray`)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;New features</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;* New script `plot_pmts.C` to plot the PMT distribution</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;* Pull Request [WCTE/WCSim#10 @kmtsui](https://github.com/WCTE/WCSim/pull/10): Automatically switch Geant4 function arguments between G4.10.1 &amp; 4.10.3</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;* Pull Request [tdealtry/#2 @spradlin](https://github.com/tdealtry/WCSim/pull/2): Restore interactive running mode of WCSim</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;* Commit [7663873 @spradlin](https://github.com/spradlin/WCSim/commit/7663873c5d11d4cc1a50e535a185e6ed0124c6a4): Add `-DWCSim_Geometry_Overlaps_CHECK` cmake options</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;* Pull Request [nuPRISM/#63 @akutsuR](https://github.com/nuPRISM/WCSim/pull/63): Adding parent G4 track id</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;* Pull Request [nuPRISM/#61 @bquilain](https://github.com/nuPRISM/WCSim/pull/61): Merge of HK FD hybrid ID branch with nuPRISM code. Provides new HK ID-only hybrid FD geometry</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;* Pull Request [nuPRISM/#57 @nickwp](https://github.com/nuPRISM/WCSim/pull/57): Add tracking of photon start and end directions for true hits</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;* Pull Request [nuPRISM/#54 @nickwp](https://github.com/nuPRISM/WCSim/pull/54): Add git hash to output settings tree. See also nuPRISM/#55</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;* Pull Request [nuPRISM/#52 @nickwp](https://github.com/nuPRISM/WCSim/pull/52): Add particle tracking options</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;* Pull Request [nuPRISM/#48 @mshinoki](https://github.com/nuPRISM/WCSim/pull/48): Add WCTE Geometry</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;* Addition of light injector simulation for primary particle generation</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;* Addition of nRooTracker input file reading for generating physics events</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;* Addition of extra `_flat.root` output file format. Note that this has not been validated during the merge, and could contain incorrect or incomplete information - this file is currently an unofficial solution in WCSim/WCSim</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;Updates</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;* The default QE application method is now `SensitiveDetector_Only` (i.e. apply at PMT). It was previously `Stacking_Only` (i.e. apply at optical photon creation). Thank you to @spradlin for finding inconsistencies between the methods</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;* The default values of PMTs in the HK geometries have been modified such that the *extra tower* is not built. This seems to greatly suppress the number of killed tracks</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;* Deactivation of some old HK geometries. These can be reactivated if they are really required for studies, but they are no longer supported</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;* Pull Request [tdealtry/#1 @spradlin](https://github.com/tdealtry/WCSim/pull/1): Correct/suppress most compiler warnings</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;* Pull Request [#338 @guiguem](https://github.com/WCSim/WCSim/pull/338): Upgrades to cmake installation. See all #341 #342 #344</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;* Pull Request [bquilain/#17 @JacekHoleczek](https://github.com/bquilain/WCSim/pull/17): Various small building improvements</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;* Pull Request [bquilain/#14 @gpronost](https://github.com/bquilain/WCSim/pull/14): Change holder of the PMT to E61 design</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;* Pull Request [bquilain/#12 @pdeperio](https://github.com/bquilain/WCSim/pull/12): Merging of nuPRISM code with HK hybrid code. See also bquilain/#11</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;* Pull Request [nuPRISM/#49 @nickwp](https://github.com/nuPRISM/WCSim/pull/49): Update IWCD geometry to match solidworks mechanical design</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;Bug fixes</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;* Pull Request [tdealtry/#3 @spradlin](https://github.com/tdealtry/WCSim/pull/3): Fix a variety of overlap warnings</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;* Pull Request [tdealtry/#4 @spradlin](https://github.com/tdealtry/WCSim/pull/4): Fix to loop over integral (rather than floating point) types</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;* Pull Request [nuPRISM/#47 @jmgwalker](https://github.com/nuPRISM/WCSim/pull/47): Fix detector centre value stored in Settings tree in output file</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;* Pull Request [nuPRISM/#46 @jmgwalker](https://github.com/nuPRISM/WCSim/pull/46): Fix detector offset bug</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;* Pull Request [nuPRISM/#45 @jmgwalker](https://github.com/nuPRISM/WCSim/pull/45): Fix bug that was causing seg fault when accessing PDG code from NRooTracker</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;* Pull Request [nuPRISM/#44 @mscott201](https://github.com/nuPRISM/WCSim/pull/44): Update the event generation to generate events right out to the edge of the E61 ID</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;* Pull Request [bquilain/#19 @gpronost](https://github.com/bquilain/WCSim/pull/19): Use Flag instead of FirstTime value to determine if new FirstTime needs to be set. See all bquilain/#18</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;* Pull Request [bquilain/#13 @bquilain](https://github.com/bquilain/WCSim/pull/13): Initialise ROOT randomiser seed</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;*************************************************************</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;10/26/2021: Notes for v1.10.0</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;*************************************************************</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;The main feature of this release is the OD geometry including WLS plates</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;Note that with this release, WCSim now requires a C++11 (or C++0x) compatible compiler </div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;Update</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;* Pull Request [#218](https://github.com/WCSim/WCSim/pull/218): Solve deprecated `ext/hash_map` header warning (now using C++11â€™s `unordered_map`)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;* Pull Request [#266](https://github.com/WCSim/WCSim/pull/266): Expand `MakeKin.py` to allow random uniform distributions of particle energies &amp; times</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;* Pull Request [#292](https://github.com/WCSim/WCSim/pull/292): Updated radon model</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;* Pull Request [#307](https://github.com/WCSim/WCSim/pull/307): Make cmake compilation work with ROOT6 (+ scripts to compile on sukap)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;* Pull Request [#212](https://github.com/WCSim/WCSim/pull/212): Modify indices saved to `WCSimRootCherenkovDigiHit::GetPhotonIds()`</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;* Pull Request [#313](https://github.com/WCSim/WCSim/pull/313): Use `G4cout` instead of `printf`</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;New feature</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;* Pull Request [#304](https://github.com/WCSim/WCSim/pull/304): `hadd` scripts for combining WCSim files</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;* Pull Request [#297](https://github.com/WCSim/WCSim/pull/297): Event generator based on cosmic muon flux</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;* Pull Request [#297](https://github.com/WCSim/WCSim/pull/297): OD geometry including wavelength shifting plates</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;* github actions version of CI build and run validation</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;Bug Fix</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;* Pull Request [#247](https://github.com/WCSim/WCSim/pull/247): Use `map` features, instead of array-style access/iteration, in `WCSimWCDigi`</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;* Pull Request [#298](https://github.com/WCSim/WCSim/pull/298): Make NoTrigger trigger work for OD</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;* Pull Request [#312](https://github.com/WCSim/WCSim/pull/312): ROOT `TRandom3` randomizer initialisation</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;*************************************************************</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;04/12/2021: Notes for v1.9.4</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;*************************************************************</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;This release includes an update to allow `WCSimRootTrigger`s with more than 150 entries, as well as updates to the Travis automatic validation system execution tests</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;Update</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;* Pull Request [#308](https://github.com/WCSim/WCSim/pull/308): Update validation tests</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;* Pull Request [#309](https://github.com/WCSim/WCSim/pull/309): Dynamically expand `WCSimRootTrigger`s `TObjArray`</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;*************************************************************</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;12/02/2020: Notes for v1.9.3       </div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;*************************************************************</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;This release includes a bug fix in the recently committed update. </div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;Update</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;* Pull Request [#302](https://github.com/WCSim/WCSim/pull/302): Typo in inFile command in src/WCSimPrimaryGeneratorAction.cc </div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;*************************************************************</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;11/26/2020: Notes for v1.9.2        </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;*************************************************************</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;This release includes an update to allow for longer headers in kin files - NOTE: A bug prevents this release from compiling</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;Update</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;* Pull Request [#299](https://github.com/WCSim/WCSim/pull/299): Increase buffer size for reading in lines of kin file</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;*************************************************************</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;10/02/2020: Notes for v1.9.1        </div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;*************************************************************</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;This release includes a bug fix in a python helper script and support for Python3. </div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;Bug Fix</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;* Pull Request [#293](https://github.com/WCSim/WCSim/pull/293): Fix missing events when using kin_converter.py and upgrade to support Python 3</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;*************************************************************</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;08/10/2020: Notes for v1.9.0        </div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;*************************************************************</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;This release includes changes that allow for supernova neutrinos to be more easily simulated. The ability for tools to work in ROOT6 has also been included. </div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;New Features</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;* Pull Request [#285](https://github.com/WCSim/WCSim/pull/285): Include compatibilities for ROOT6</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;* Pull Request [#284](https://github.com/WCSim/WCSim/pull/285): Include compatibilities for Singularity</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;* Pull Request [#275](https://github.com/WCSim/WCSim/pull/275): Add the ability to simulate a radon background</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;Bug Fixes</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;* Pull Request [#286](https://github.com/WCSim/WCSim/pull/286), [#287](https://github.com/WCSim/WCSim/pull/287): Fix a memory leak when running on large (&gt;1000) event files. </div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;Updates</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;* Pull Request [#289](https://github.com/WCSim/WCSim/pull/289), [#277](https://github.com/WCSim/WCSim/pull/277): Allow for multiple vertices to have different information. </div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;* Pull Request [#288](https://github.com/WCSim/WCSim/pull/288): Allow kinsplitter to create multiple kin files for the same event. </div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;* Pull Request [#279](https://github.com/WCSim/WCSim/pull/279), [#283](https://github.com/WCSim/WCSim/pull/283): Updates for Docker</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;* Pull Request [#288](https://github.com/WCSim/WCSim/pull/288): Changes required for supernova simulations (including an increase in the stored time precision - this results in a 20\% increase in file size). </div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;* Pull Request [#272](https://github.com/WCSim/WCSim/pull/272): Added a different (more direct) way to compare digits</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;*************************************************************</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;01/29/2019: Notes for v1.8.0        </div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;*************************************************************</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;The main updates included in this release include an outer detector volume in the Hyper-Kamiokande detector, an option to include light cones, and updates to accommodate our new trigger simulations. </div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;New Features</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;* Pull Request [#210](https://github.com/WCSim/WCSim/pull/210), [#251](https://github.com/WCSim/WCSim/pull/251), [#242](https://github.com/WCSim/WCSim/pull/242), [#252](https://github.com/WCSim/WCSim/pull/252), [#253](https://github.com/WCSim/WCSim/pull/253), [#233](https://github.com/WCSim/WCSim/pull/233): Hyper-K configuration with an outer detector is implemented. </div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;* Pull Request [#206](https://github.com/WCSim/WCSim/pull/206): New macro folder now contains all the macros.</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;* Pull Request [#229](https://github.com/WCSim/WCSim/pull/229): Digitization of the OD.</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;* Pull Request [#205](https://github.com/WCSim/WCSim/pull/205): Add option in macro to switch off QE completely.</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;* Pull Request [#220](https://github.com/WCSim/WCSim/pull/220): Add a no-trigger trigger option</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;* Pull Request [#223](https://github.com/WCSim/WCSim/pull/223), [#227](https://github.com/WCSim/WCSim/pull/227), [#238](https://github.com/WCSim/WCSim/pull/238): Changes to allow for Travis validation suite</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;* Pull Request [#236](https://github.com/WCSim/WCSim/pull/236): Changing travis source docker file</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;* Pull Request [#228](https://github.com/WCSim/WCSim/pull/228): Allow simulation of multiple primary vertices in an event</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;* Pull Request [#249](https://github.com/WCSim/WCSim/pull/249): Support OGLSQT visualization </div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;* Pull Request [#246](https://github.com/WCSim/WCSim/pull/246): Allow multiple instances of dark noise options to be stored</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;* Pull Request [#231](https://github.com/WCSim/WCSim/pull/231): Add 3&quot; and 5&quot; PMT options</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;* Pull Request [#263](https://github.com/WCSim/WCSim/pull/263): Light cone option is now included</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;Bug Fixes</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;* Pull Request [#145](https://github.com/WCSim/WCSim/pull/145): Fix 0 hits report when running hits/verbose 1</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;* Pull Request [#193](https://github.com/WCSim/WCSim/pull/193): Digitized hits were being floored to an int (introduced in v1.4.0). This pull request makes digit times a float. </div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;* Pull Request [#194](https://github.com/WCSim/WCSim/pull/194): Moves hit time smearing back to the PMT hit, rather than to the digitized hits.</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;* Pull Request [#216](https://github.com/WCSim/WCSim/pull/216): Fix typo in WCSimRootOptions::Print()</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;* Pull Request [#217](https://github.com/WCSim/WCSim/pull/217): Fix floating point exception error caused by non-optical photons with a total energy of 0 in ProcessHits for which the wavelength calculation didn&#39;t make sense. Moved the wavelength calculation down to be only for optical photons.</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;* Pull Request [#225](https://github.com/WCSim/WCSim/pull/225): A nuance-formatted input file created on Windows will usually have \r\n line endings instead of the Unix default \n. Letâ€™s add \r to the list of ignored characters so those files get parsed correctly.</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;* Pull Request [#255](https://github.com/WCSim/WCSim/pull/255): Add some statements to the LinkDef</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;* Pull Request [#265](https://github.com/WCSim/WCSim/pull/265): WCSim files generated using muline option have the vertex incorrectly set to (0,0,0). This fixes it.</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;Updates</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;* Pull Request [#166](https://github.com/WCSim/WCSim/pull/166), [#254](https://github.com/WCSim/WCSim/pull/254): Updates related to the verification scripts. </div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;* Pull Request [#199](https://github.com/WCSim/WCSim/pull/199): Can now check changes to output file sizes and running time in verification scripts. </div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;* Pull Request [#193](https://github.com/WCSim/WCSim/pull/193): Users can now specify the precision with which to store digitized hits. </div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;* Pull Request [#204](https://github.com/WCSim/WCSim/pull/204): New RootOptions included in the CMake build options. </div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;* Pull Request [#207](https://github.com/WCSim/WCSim/pull/207): Change the colour of mu- and mu+ in visualization and add background colour</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;* Pull Request [#258](https://github.com/WCSim/WCSim/pull/258), [#256](https://github.com/WCSim/WCSim/pull/256): Allow the addition and deletion of Cherenkov digits in WCSimWCTrigger</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;* Pull Request [#257](https://github.com/WCSim/WCSim/pull/257): Add assignment operators to WCSimRootEvent &amp; WCSimRootTrigger</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;* Pull Request [#264](https://github.com/WCSim/WCSim/pull/264): Add how to run WCSim to the README</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;* Pull Request [#259](https://github.com/WCSim/WCSim/pull/259): WCSimWCDigit::SortArrayByHitTime() to sort times_presmear too</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;* Pull Request [#260](https://github.com/WCSim/WCSim/pull/260): Allow the addition and deletion of tracks in WCSimWCTrigger</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;* Pull Request [#262](https://github.com/WCSim/WCSim/pull/262), [#267](https://github.com/WCSim/WCSim/pull/267): Changes to the trigger to make it more realistic</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;*************************************************************</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;04/27/2017: Notes for v1.7.0        </div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;*************************************************************</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;New Features</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;* Pull Request #198: Run options (such as dark noise rate, electronics configuration, detector configuration, etc) is now saved in the output ROOT file. </div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;* Pull Request #212 (forked from Pull Request #202): WCSim now runs with Geant 4.10.1. Extensive validation was done to ensure the physics output matches what we expect. The custom physics list option was removed and the FTFP_BERT physics list is now the default. </div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;Bug Fixes</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;* Pull Request #191: Digits were being saved multiple times if they were in overlapping trigger windows. This is now fixed. </div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;Updates</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;* Pull Request #135: G4 General Particle Source now documented in WCSim.mac.</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;* Pull Request #176: Clean up read_PMT.C by removing duplicate line and unifying output. </div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;* Pull Request #180: .gitignore file was extended to ignore output and compiled files.</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;*************************************************************</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;07/04/2016: Notes for v1.6.0        </div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;*************************************************************</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;New Features</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;* Pull Request #125: Update code to compile with cmake. Information is included in the README.md file. </div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;* Pull Request #151: HyperK detector configuration now reflects the design report specifications (a cylinder with a height of 54.8 m, a diameter of 70.8 m). </div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;* Pull Request #151: The egg-shaped Hyper-K design is still available, but is now renamed EggShapedHyperK.</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;* Pull Request #163: Error message is now output if vector file specified in the macro does not exist. </div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;* Pull Request #170: Some improvements to verification_HitsChargeTime.C, including a check for the same number of events in the two files being compared. </div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;Bug Fixes</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;* Pull Request #165: The raw (undigitized) hit times in the output ROOT file were smeared since v1.5.0. This release returns the raw (undigitized) hit times back to their unsmeared times. </div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;* Pull Request #165: There was a related bug that arose from matching the collection of unsmeared hit times to the smeared times, resulting in some wrong times &amp; parent IDs being saved. This release fixes that bug. </div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;Updates</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;* Pull Requests #164 and #183: Swap the remaining instances of cout, cerr, endl for G4cout, G4cerr, G4endl and remove the iostream includes, except in WCSimEnumerations, which is used to analyze the WCSim ROOT files.</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;* Pull Request #174: Updated references to documentation of root file structure. The defunct link included in some of the sample ROOT macros was changed to refer users to the WCSim DetectorDocumentation.pdf. </div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;*************************************************************</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;04/11/2016: Notes for v1.5.1        </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;*************************************************************</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;Bug Fixes:</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;* In v1.5.0, the dark rate was not being set correctly in the case where the default detector was not used (unless the dark rate was explicitly specified in the macro). This release now correctly implements the dark rate based on the photodetector type used in the detector configuration, even when the non-default detector configuration is called. </div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;*************************************************************</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;02/01/2016: Notes for v1.5.0        </div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;*************************************************************</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;New Features</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;* Dark rate can now be added either in a defined time window around each hit, or in a set window of a constant time. </div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;* Digits with negative times are now saved (this doesn&#39;t affect the current default digitizer, but could have implications for future digitizers that get added in).</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;* MakeKin.py can now make vector files with random vertices for the SuperK and HyperK cylinders. </div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;* New DAQ-related features can now be controlled via macro files. The digitizer and trigger you want to use can be specified (in WCSim.mac), as well as properties of the digitzer and trigger (in daq.mac). </div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;Bug Fixes</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;* Hit PMTs were not being visualized after a change made in the last release. This was fixed. </div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;* If you built the same detector configuration twice (for example, if you rebuilt the default configuration) then the program would seg fault. This has now been fixed. </div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;* The smearing of the hit time is now applied in WCSimWCPMT, rather than in the digitizer after the trigger decisions have already been made. </div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;* The Enumerations files (WCSimEnumerations.cc and WCSimEnumerations.hh) are now compiled with WCSim to allow for ROOT scripts run in non-compiled mode to access that information. </div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;Structural Changes</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;* The digitizer, trigger, and dark noise are now separate pieces of code. Furthermore, the digitizer and trigger now inherit from base classes similar to how the PMTs were implemented in v1.2.0. As a result, users can add their own electronics easily.</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;* novis.mac has been renamed WCSim.mac and now contains an option to call the visualization commands (visOGLSX.mac for the OGLSX visualization that vis.mac used or visRayTracer.mac for the RayTracer visualization). vis.mac has been removed and visRaytracer.mac is no longer a stand alone macro. </div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;* All of the digitizer and trigger options are now included in a separate daq.mac file. This file gets called by WCSim.mac. The choice of digitizer and trigger is made in WCSim.mac. </div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;* Dark rate is now a property of the PMT and is automatically changed when a new PMT is used (rather than having to manually set it in the macro). </div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;Updates</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;* doc/DetectorDocumentation.pdf was updated to reflect new DAQ options and the changes made to the default macros. </div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;*************************************************************</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;08/03/2015: Notes for v1.4.0        </div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;*************************************************************</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;New Features</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;* Multiple sensitive detectors can now be instantiated </div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;* Different sensitive detectors can have unique hit collections</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;* WCSim executable will exit if jobOptions.mac, jobOptions2.mac, or tuning_parameters.mac are not found</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;* Two cylindrical detectors with a height of 60 m and a diameter of 74 m are now available: one with 14% photocoverage and one with 40% photocoverage. </div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;* Raytracer visualiser is now available. A new macro, visRayTracer.mac, is now available to visualize configurations with Raytracer. </div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;Deleted Features</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;* Old DUSEL configurations removed</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;Structural Changes</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;* User now instantiates a PMT using CreatePMT(&quot;PMTType&quot;, &quot;CollectionName&quot;)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;* Glass thickness in ConstructPMT</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;* Collection efficiency can be set in the macro files</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;* HPD parameters to reflect the results from new measurements</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;Bug Fixes</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;* The function used for the timing resolution was different from the fitted function for the &gt;20 p.e. region. The correct timing resolution function has now been implemented.</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;* PMTCollEff is now on by default</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;* A correction factor of 1/0.73 has been implemented for the Box and Line photosensors. Based on Hamamatsu simulations, the collection efficiency for the R3600 is 73%. We have factors in WCSim that suppress the pe output and so this makes the R3600 simulations correct, but since we now include other photosensors (ex. box and line), we need to correct by the new photosensors by the 1/0.73 factor. The new ratio we expect for the digitized output (Quantum efficiency x Collection efficiency x Hit Efficiency) of B&amp;L to R3600 is: (0.315x0.95x0.856/0.73)/(0.211x1.0x0.717)=2.32. This is a temporary solution until we can properly incorporate the R3600 collection efficiency and retune the factors in WCSim. </div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;*************************************************************</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;04/08/2015: Notes for v1.3.0        </div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;*************************************************************</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;New Features</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;* Added in 12&quot; HPD photosensor option (same as 20&quot; HPD but with a different geometry)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;* New detector configurations added for the Hyper-K design study:  SuperK_20inchPMT_20perCent, SuperK_20inchBandL_20perCent, SuperK_12inchBandL_15perCent, SuperK_20inchBandL_14perCent, Cylinder_12inchHPD_15perCent</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;* Added 12&quot; and 20&quot; Box and Line photosensor option</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;* Implemented a collection efficiency parameter to deal with the angular efficiency dependence for Box and Line photosensors. By default, the collection efficiency option is turned off (so the collection efficiency is 100%). To enable the collection efficiency parameter, the user must set `/WCSim/PMTCollEff on` in the macro. If the collection efficiency parameter is enabled, the default collection efficiency in the base class is 100%. To use a different collection efficiency, GetCollectionEfficiencyArray() must be specified when defining a PMTObject in WCSimPMTObject.cc. </div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;* Added link to the NUANCE format documentation in the comments of WCSimPrimaryActionGenerator.cc</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;*************************************************************</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;01/21/2015: Notes for v1.2.0        </div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;*************************************************************</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;Bug Fixes</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;* Missing HK variables added so that the HK geometry could be specified as the default and the code won&#39;t crash. </div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;* HasSubEvents() function now returns the proper Boolean value. </div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;* Dark noise is now added between the start of the trigger window and the start of the signal. </div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;Structural Changes</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;* All of the different detector setups were moved into a file called WCSimDetectorConfigs.cc.</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;* WCSimPMTQE.cc was created and all quantum efficiency info was put there.</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;* WCSimWCDigitizer was split into a PMT collection (in the newly created WCSimWCPMT file) and a digitizer collection.</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;* The PMT information was put into a single file called WCSimPMTObject.cc. PMTs now inherit from the newly created WCSimPMTObject class. </div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;* WCSimWCConstructWC is now named WCSimConstructCylinder to explicitly show that this function builds cylindrical geometries and should not be used to construct the HK geometry. </div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;New Features</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;* Python script was added to generate kinematics files for simple particles. </div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;* A (very) basic validation script was added in a new directory called verification-test-scripts. The verification_HitsChargeTime.C script checks the hits, charge, and timing of events against a clean copy of the WCSim code. </div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;* HPDs were added to the list of possible tubes allowed in WCSim.</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;* Hyper-K with HPDs was added as a new detector configuration. </div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;* Updated the dark rate parameters for normal PMTs.</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;* Added the dark rate commands to novis.mac. Uncommented out the dark rate commands in novis.mac and vis.mac.</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;* Included the dark rate parameters for the HPDs in vis.mac and novis.mac.</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 30 2024 12:33:59 for WCSim by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
