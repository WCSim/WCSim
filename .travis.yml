sudo: required

language: cpp

compiler: gcc
dist: trusty

services:
  - docker

before_install:
  - docker pull brichards64/wcsim

install:
  - git clone https://github.com/wcsimtravis/WCSim.git -b gh-pages ./gh-pages
  - docker run -v `pwd`:/root/HyperK/WCSim -v `pwd`/gh-pages:/root/Validation/Webpage brichards64/wcsim /bin/sh -c " echo $ValidationPath; source /root/HyperK/env-WCSim.sh;  echo $ValidationPath; cd /root/HyperK/WCSim ; /root/Validation/Tests.sh 1; more /root/Validation/Webpage/Results.html"

script:
  - docker run -v `pwd`:/root/HyperK/WCSim -v `pwd`/gh-pages:/root/Validation/Webpage brichards64/wcsim /bin/sh -c "source /root/HyperK/env-WCSim.sh; cd /root/HyperK/WCSim; /root/Validation/Tests.sh 2;  more /root/Validation/Webpage/Results.html"

notifications:
  email:
    recipients:
      - b.richards@qmul.ac.uk
      - erin.osullivan@fysik.su.se
    on_success: never # default: change
    on_failure: never # default: always